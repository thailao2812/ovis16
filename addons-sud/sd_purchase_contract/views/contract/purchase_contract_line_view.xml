<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record model="ir.ui.view" id="view_purchase_contract_line_detail_report_tree">
            <field name="name">view_purchase_contract_line_detail_report_tree</field>
            <field name="model">purchase.contract.line</field>
            <field name="arch" type="xml">
                <tree string="Contract List">
                    <field name="contract_id" string="Contract No."/>
                    <field name="contract_p_id" string="P Ref"/>
                    <field name="date_order" string="Ctr Date"/>
                    <field name="partner_id" string="Counter Party"/>
                    <field name="certification_type" string="Ctr Type"/>
<!--                    <field name="validity_date" invisible="1"/>-->
                   <field name="delivery_place_id" string="Delivery to Location"/>
                   <field name="product_id" string="Grade"/>
                    <field name="certificate_id" string="Cert"/>
<!--                    <field name="total_qty" invisible="1"/>-->
                    <field name="qty_mt" sum="total_qty" string="Qty (MT)"/>
                    <field name="price_unit" string="Price (VND/KG)"/>
                    <field name="diff_price" string="Diff"/>
                    <field name="delivery_from" string="Delivery From"/>
                    <field name="deadline_date" string="Delivery To"/>
                    <field name="ex" string="FX"/>
                    <field name="trade_month" string="Trade Month"/>
                    <field name="total_lot"/>
                    <field name="fix_lot" string="Fixed Lot"/>
                    <field name="hedged_fixed_level_report"/>
                    <field name="unfix_lot" string="UnFixed Lot"/>
                    <field name="fix_status" string="Fixation Status"/>
                    <field name="fixation_date" string="Fixation Date"/>
                    <field name="trader_id" string="Trader"/>
                    <field name="crop_id" string="Crop Year"/>
                    <field name="transport_to_factory" string="Transport To Factory"/>
                    <field name="cost_to_fob_hcm" string="Cost To FOB HCM"/>
                    <field name="cert_pre" string="Cert Pre"/>
                    <field name="pre_dis_vs_g2" string="Pre/Dis vs G2"/>
                    <field name="g2_fob_equiv" string="G2 FOB equiv (USD/MT)"/>
                    <field name="product_fob" string="Product FOB"/>
                    <field name="delivery_status" string="Delivery Status"/>
                    <field name="qty_received" string="Received Qty(MT)" sum="qty_received"/>
                    <field name="qty_unreceived" string="Undelivery Qty(MT)" sum="qty_unreceived"/>


                    <field name="provisional_amount"/>
                    <field name="stoploss_level"/>
                    <field name="ctr_fob_price"/>
                    <field name="mtm_fob_price"/>
                    <field name="price_diff_usd_mt"/>
                    <field name="flat_exposure"/>
                    <field name="diff_exposure"/>
                    <field name="ptbf_unpaid_amount"/>
                    <field name="deposit"/>
                    <field name="sum_exposure"/>
                    <field name="in_exposure"/>
                    <field name="state"/>
                    <field name="count_down"/>
                    <field name="grade_2"/>
                    <field name="group_location"/>
                </tree>
            </field>
        </record>

     <record id="purchase_contract_line_search_view_report" model="ir.ui.view">
            <field name="name">purchase_contract_line_search_view_report</field>
            <field name="model">purchase.contract.line</field>
            <field name="arch" type="xml">
                <search>
                    <field name = "contract_id"/>
                </search>
             </field>
         </record>

    <record id="purchase_contract_detail_line_report_action" model="ir.actions.act_window">
            <field name="name">Purchase Contract Line Detail Report</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">purchase.contract.line</field>
            <field name="view_mode">tree</field>
            <field name="domain">[('type','in',['purchase', 'ptbf']), ('cert_type','=','normal'), ('state', '!=', 'cancel')]</field>
            <field name="context">{}</field>
            <field name="search_view_id" ref="purchase_contract_line_search_view_report"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">

                </p>
            </field>
        </record>

    <record model="ir.cron" id="ir_cron_compute_report_purchase_contract_detail">
            <field name="name">Report Purchase Contract</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="active">True</field>
            <field name="user_id" ref="base.user_root" />
            <field name="model_id"  ref="sd_purchase_contract.model_purchase_contract_line" />
            <field name="state">code</field>
            <field name="code">model.call_compute_all()</field>
        </record>
</odoo>