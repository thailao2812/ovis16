<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
   
    	<record id="view_tree_stock_contract_allocation" model="ir.ui.view">
            <field name="name">view.stock.contract.allocation</field>
            <field name="model">stock.contract.allocation</field>
            <field name="arch" type="xml">
    			<tree string="Stock Contract Allocation" default_order="id desc">
                    <!-- <field name = 'name'/> -->
                    <field name = 'allocation_date'/>
                    <field name = "zone_id" domain="[('location_wip','!=', True)]"/>
                    <field name = 'stack_no' domain="[('stack_wip','!=', True)]"/>
                    <field name = "product_name"/>
                    <field name = 'grade_name' />
                    <field name = 'packing_type'/>
                    <field name = 'shipping_id'/>
                    <field name = 'allocating_quantity'/>
                </tree>
	         </field>
         </record>

         <record id="view_form_stock_contract_allocation" model="ir.ui.view">
            <field name="name">Stock Contract Allocation</field>
            <field name="model">stock.contract.allocation</field>
            <field name="arch" type="xml">
                <form string="Allocation">
                    <group name="group_top">
                        <group name="group_left">
                            <!-- <field name = 'name'/> -->
                            <field name = 'allocation_date'/>
                            <field name = 'shipping_id'/>
                            <field name = 'stack_no'/>
                            <div name="loadstack" class="o_row">
                                <button name="load_stack_info" string="Load stack quantity" type="object" 
                                             class="oe_highlight"/>
                            </div> 
                            <br/>
                            <field name = 'allocating_quantity'/>
                        </group>
                        <group name="group_center">
                            <br/>
                            <div name="loadstack" class="o_row">
                                <button name="load_availability" string="Load availability" type="object" 
                                             class="oe_highlight"/>
                            </div> 
                            <field name = "allocation_availabibity" readonly='1'/>
                            <br/>
                            <br/>
                            
                        </group>
                    </group>
                </form>
            </field>
        </record>

        <!-- The block of code bellow determines a list of search parameters appear once user type in the searchbar -->
        <record id="stock_contract_allocation_search" model="ir.ui.view">
            <field name="name">view.contract.allocation.search</field>
            <field name="model">stock.contract.allocation</field>
            <field name="arch" type="xml">
                <search>
                    <field name = "shipping_id"/>
                    <field name = 'shipping_id'/>
                    <field name = "product_name"/>
                    <field name = 'grade_name' />
                    <!-- <field name = 'receipt_note'/> -->
                    <group expand="1" string="Group By">
                        <filter name="filter_shipping_id" string="SI" domain="[]" context="{'group_by':'shipping_id'}"/>
                        <filter name="filter_product_name" string="Product name" domain="[]" context="{'group_by':'product_name'}"/>
                        <filter name="filter_grade_name" string="Grade name" domain="[]" context="{'group_by':'grade_name'}"/>
                        
                    
                    </group>
                </search>
             </field>
         </record>

        <!-- the block of code below is the action to trigger the list open -->
        <record id="action_stock_contract_allocation" model="ir.actions.act_window">
            <field name="name">Stock allocation</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.contract.allocation</field>
            <field name="view_mode">tree,form</field>
            <!-- <field name="context">{"search_default_status":True}</field> -->
        </record>

       j
    

    </data>
</odoo>