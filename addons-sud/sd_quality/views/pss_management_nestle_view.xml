<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
	
	
    <record id="view_pss_management_nestle" model="ir.ui.view">
            <field name="name">view_pss_management_nestle</field>
            <field name="model">pss.management</field>
            <field name="arch" type="xml">
    			<tree string="PSS List Nestle" editable="top" decoration-info="status_nestle == 'sent'" decoration-muted="status_nestle in ('approved')"  
    				default_order="id desc" decoration-danger="status_nestle in ('reject_phys', 'reject_gly', 'reject_cupping')">
                    
                    <field name="x_ex_warehouse_id" optional="show"/>
                    <field name="name" optional="show"/>
                    <field name="shipping_id" optional="show"/>
                    <field name="created_date" optional="show"/>
                    <field name="partner_id" optional="show"/>
                    <field name="product_id" optional="show"/>
                    <field name="date_sent" optional="show"/>
                    <field name="status_nestle" optional="show"/>
                    <field name="date_result" optional="show"/>
                    <field name="buyer_ref" optional="show"/>
                    <field name="x_shipment_date" optional="show"/>
                    <field name="lot_quantity" optional="show"/>
                    <field name="cont_quantity" optional="show"/>
                    <field name="mc" optional="show"/>
                    <field name="fm" optional="show"/>
                    <field name="black" optional="show"/>
                    <field name="broken" optional="show"/>
                    <field name="brown" optional="show"/>
                    <field name="moldy" optional="show"/>
                    <field name="burned" optional="show"/>
                    <field name="scr20" optional="show"/>
                    <field name="scr19" optional="show"/>
                    <field name="scr18" optional="show"/>
                    <field name="scr16" optional="show"/>
                    <field name="scr13" optional="show"/>
                    <field name="blscr12" optional="show"/>
                    <field name="x_bulk_density" optional="show"/>
                    <field name="stack" widget="many2many_tags" optional="show"/>
                    <field name="ref_no" invisible="1"/>
                    <field name="note" string="Cuptaste" optional="show"/>
                    <field name="inspector" optional="show"/>
                    <field name="buyer_comment" optional="show"/>
                    <field name="our_comment" optional="show"/>
                    <field name="qc_staff" optional="show"/>
                    <!--
                    <button name="btt_view" type='object' string="View Fom"/>
                    -->
                </tree>
	         </field>
         </record>

        <record id="view_form_pss_management_nestle" model="ir.ui.view">
            <field name="name">view_form_pss_management_nestle</field>
            <field name="model">pss.management</field>
            <field name="arch" type="xml">
                <form string="PSS Mangement Nestle">
                    <group name="group_top">
                        <group name="group_left">
                            <field name = 'name'/>
                            <field name = 'shipping_id'/>
                            <label for="shipping_id"/>
                            <div name="shipping_id" class="o_row">
                                <!-- <field name="shipping_id"
                                    options="{'no_write': True, 'no_create': True}" required="1"/> -->
                                    <button name="load_si_info" string="Load" type="object"
                                        icon="terp-gtk-jump-to-ltr" class="btn-default"/>
                            </div>
                            <!-- <button string="Load" type="object" name="load_si" class="oe_highlight"/> -->
                            <field name = 'created_date'/>
                            <field name = 'partner_id'/>
                            <field name = 'product_id'/>
                        </group>
                        <group name="group_right">
                            <field name = 'date_sent'/>
                            <field name = 'status_nestle'/>
                            <field name = 'date_result'/>
                            <field name = 'buyer_ref'/>
                            <field name = 'lot_quantity'/>
                            <field name = 'cont_quantity'/>
                        </group>
                    </group>
                    <group name="group_bottom">
                        <group name="group_left">
                            <field name = 'mc'/>
                            <field name = 'fm'/>
                            <field name = 'black'/>
                            <field name = 'broken'/>
                            <field name = 'brown'/>

                            <field name = 'moldy'/>
                            <field name = 'burned'/>
                            <field name = 'scr20'/>
                            <field name = 'scr19'/>
                            <field name = 'scr18'/>

                            <field name = 'scr16'/>
                            <field name = 'scr13'/>
                            <!-- <field name = 'scr12'/> -->
                            <field name = 'blscr12'/>
                        </group>
                        <group name="group_right">
                            <field name = 'stack' widget="many2many_tags"/>
                            <field name = 'ref_no' invisible = '1'/>
                            <field name = 'inspector'/>
                            <field name = 'buyer_comment'/>
                            <field name = 'our_comment'/>
                            <field name = 'note'/>
                            <field name = 'qc_staff'/>
                            <field name="x_bulk_density"/>
                                <field name="ship_by"/>
                                <field name="shipper_id"/>
                        </group>
                    </group>
                </form>
            </field>
        </record>

        <record id="pss_management_nestle_search" model="ir.ui.view">
            <field name="name">pss_management_nestle_search</field>
            <field name="model">pss.management</field>
            <field name="arch" type="xml">
                <search>
                    <field name = "shipping_id"/>
                    <field name = "name"/>
                    <field name = 'partner_id'/>
                    <group expand="1" string="Group By">
                        <filter string="SI" name="group_by_shipping_id" domain="[]" context="{'group_by':'shipping_id'}"/>
                        <filter string="PSS Status" name="group_by_status_nestle"  domain="[]" context="{'group_by':'status_nestle'}"/>
                        <filter string="Product" name="group_by_product_id" domain="[]" context="{'group_by':'product_id'}"/>
                        <!-- <filter domain="[('balance_basis','!=',0)]" string="Real Stock" name='status'/> -->
                        <filter domain="[('status_nestle','in',['reject_phys', 'reject_gly'])]" string="PSS rejected" name='nestle_rejected'/>
                        <filter domain="[('status_nestle','=','approved')]" string="PSS Approved" name='nestle_approved'/>
                    </group>
                </search>
             </field>
         </record>
	<!--
     <record model="ir.ui.view" id="pss_management_nestle_graph">
            <field name="name">pss_management_nestle_graph</field>
            <field name="model">pss.management</field>
            <field name="arch" type="xml">
                <graph string="PSS Management Nestle">
                    <field name="status_nestle"/>
                    <field name="lot_quantity" type="measure"/>
                </graph>
            </field>
        </record>
-->
        <record id="action_pss_management_nestle" model="ir.actions.act_window">
            <field name="name">PSS Management Nestle</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">pss.management</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="domain">[('is_nestle', '=', True)]</field>
            <field name="search_view_id" ref="pss_management_nestle_search"/>
            <field name="context">{'default_is_nestle': True}</field>
        </record>

        <record model="ir.actions.act_window.view" id="pss_management_nestle_view_tree">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_pss_management_nestle"/>
            <field name="act_window_id" ref="action_pss_management_nestle"/>
        </record>

        <record model="ir.actions.act_window.view" id="pss_management_nestle_view_form">
            <field name="sequence" eval="1"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_form_pss_management_nestle"/>
            <field name="act_window_id" ref="action_pss_management_nestle"/>
        </record>

       

</odoo>